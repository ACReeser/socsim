(this.webpackJsonpsocsim=this.webpackJsonpsocsim||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,i=a(0),l=a.n(i),r=a(7),s=a.n(r),o=(a(13),a(1)),c=a(2),u=a(4),m=a(3),h=(a(14),a(5));function d(e){return{year:e.date.year,season:e.date.season}}function p(e,t){return t.year>-1&&(t.year==e.year||t.year==e.year-1&&t.season>e.season)}!function(e){e[e.Spring=0]="Spring",e[e.Summer=1]="Summer",e[e.Fall=2]="Fall",e[e.Winter=3]="Winter"}(n||(n={}));var y=function(){function e(){Object(o.a)(this,e),this.key=0,this.cityKey=0,this.alive=!0,this.dob={year:0,season:0},this.name="Bean Beanson",this.city=null,this.ethnicity=A(["circle","square","triangle"]),this.lastApproval={year:-1,season:0},this.discrete_food=1,this.shelter="crowded",this.discrete_health=2,this.community="ego",this.ideals="trad",this.job="jobless",this.faith=void 0,this.cash=3,this.partyLoyalty=.2,this.lastHappiness=0,this.lastSentiment=0,this.lastPartySentiment=0,this.seasonSinceLastSale=0,this.seasonSinceLastRent=0,this.lastApprovalDate={year:-1,season:0},this.lastInsultDate={year:-1,season:0},this.fairGoodPrice=1}return Object(c.a)(e,[{key:"getHappinessModifiers",value:function(e,t,a){var n=[L[this.food],L[this.shelter],L[this.health]];return"trad"==this.ideals&&this.ethnicity!=t.majorityEthnicity&&n.push({reason:"Xenophobic",mod:-.1}),this.cash<1?n.push({reason:"Penniless",mod:D.Deficient}):this.cash>3*e.getCostOfLiving()?n.push({reason:"Upper Class",mod:.3}):this.cash>2*e.getCostOfLiving()&&n.push({reason:"Middle Class",mod:.15}),"jobless"==this.job&&n.push({reason:"Unemployed",mod:D.Deficient}),n}},{key:"getSentimentModifiers",value:function(e,t,a,n){var i=this,l={party:[],law:[]};return this.community==n.community&&l.party.push({reason:"Same Community",mod:.15}),this.ideals==n.ideals?l.party.push({reason:"Same Ideals",mod:.15}):this.community!=n.community&&l.party.push({reason:"Incompatible Values",mod:-.15}),t.environment&&p(t.environment,this.lastApprovalDate)&&l.party.push({reason:"Public Endorsement",mod:.2}),n.differingPolicies(a).forEach((function(e){(e.community&&e.community==i.community||e.ideals&&e.ideals==i.ideals)&&l.party.push({reason:"Likes "+e.name,mod:.1})})),l}},{key:"calculateBeliefs",value:function(e,t,a,n){this.lastHappiness=T(this.getHappinessModifiers(e,t,a));var i=this.getSentimentModifiers(e,t,a,n);if(this.lastSentiment=T(i.law),this.lastPartySentiment=T(i.party),"jobless"==this.job)this.fairGoodPrice=1;else{var l=I(this.job);this.fairGoodPrice=e.getFairGoodPrice(l)}}},{key:"getSentimentPolicies",value:function(e,t){var a=100;return t.forEach((function(t){t.fx.forEach((function(t){e[t.key]&&(a+=10*t.mag)}))})),a/100}},{key:"_getTraitMap",value:function(){var e,t=(e={},Object(h.a)(e,this.community,!0),Object(h.a)(e,this.ideals,!0),Object(h.a)(e,this.ethnicity,!0),e);return this.faith&&(t[this.faith]=!0),t}},{key:"getFace",value:function(){return this.alive?"hungry"==this.food?"\ud83d\ude2b":"sick"==this.health?"\ud83e\udd22":"podless"==this.shelter?"\ud83e\udd76":"jobless"==this.job?"\ud83d\ude27":this.lastHappiness<0?"\u2639\ufe0f":this.lastHappiness>=50?"\ud83d\ude42":"\ud83d\ude10":"\ud83d\udc80"}},{key:"getIdea",value:function(e){return"hungry"==this.food?{bad:!0,idea:"\ud83c\udf57"}:"sick"==this.health?{bad:!0,idea:"\ud83d\udc8a"}:"podless"==this.shelter?{bad:!0,idea:"\ud83c\udfe0"}:this.canBaby(e)?{bad:!1,idea:"\ud83d\udc76"}:null}},{key:"tryFindRandomJob",value:function(e){Math.random()>.5&&(this.job=A(["builder","doc","farmer"]))}},{key:"canInsult",value:function(){return Boolean(this.city&&this.city.environment&&!p(this.city.environment,this.lastInsultDate))}},{key:"canSupport",value:function(){return Boolean(this.city&&this.city.environment&&!p(this.city.environment,this.lastApprovalDate))}},{key:"work",value:function(e,t){if("jobless"==this.job)this.tryFindRandomJob(e);else{if(this.seasonSinceLastSale++,this.seasonSinceLastSale>2&&Math.random()>.5){var a=t.mostInDemandJob();a&&(this.job=a)}t.produceAndPrice(this,I(this.job),2.5,this.fairGoodPrice)}}},{key:"eat",value:function(e){return"farmer"==this.job?this.discrete_food+=1:this.buyFood(e),this.discrete_food-=1,this.discrete_food<0&&(this.discrete_health-=.3),this.maybeDie("starvation",.6)}},{key:"buyFood",value:function(e){var t=e.tryTransact(this,"food");t&&(this.discrete_food+=t.bought)}},{key:"weather",value:function(e){if(!this.alive)return null;"builder"==this.job?this.shelter="crowded":this.buyHousing(e)||(this.seasonSinceLastRent>1?this.shelter="podless":this.seasonSinceLastRent++);return"podless"==this.shelter&&(this.discrete_health-=.1),this.maybeDie("exposure",.2)}},{key:"buyHousing",value:function(e){var t=e.tryTransact(this,"shelter");return t&&(this.seasonSinceLastRent=0,this.shelter="crowded"),null!=t}},{key:"age",value:function(e){return this.alive?("doc"==this.job?this.discrete_health+=.25:this.buyMeds(e),this.discrete_health-=.2,this.discrete_health=Math.min(this.discrete_health,3),this.maybeDie("sickness",.4)):null}},{key:"buyMeds",value:function(e){var t=e.tryTransact(this,"medicine");t&&(this.discrete_health+=t.bought)}},{key:"maybeOverconsume",value:function(e){var t=2*e.getCostOfLiving();"stuffed"!=this.food&&this.cash>t&&this.buyFood(e),"fresh"!=this.health&&this.cash>t&&this.buyMeds(e)}},{key:"maybeBaby",value:function(e){if(this.canBaby(e.getCostOfLiving())&&Math.random()<=.05){if(!this.city)throw"bean doesnot have city object";return this.city.breedBean(this),{icon:"\ud83c\udf89",message:"A new bean is born!"}}return null}},{key:"canBaby",value:function(e){return this.cash>3*e&&!this.isInCrisis}},{key:"chanceToDonate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.cash>2*e.getCostOfLiving()&&!this.isInCrisis;if(a&&this.lastPartySentiment>.5){var n=t?.2:.5,i=this.lastPartySentiment-n;return i/2}return 0}},{key:"maybeDonate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.chanceToDonate(e,t);if(a>0){var n=Math.random()<a;if(n){var i=1;return this.cash-=i,i}}return 0}},{key:"maybeDie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return this.discrete_health<0&&Math.random()<=t?(this.die(),{icon:"\u2620\ufe0f",message:"A bean died of ".concat(e,"!")}):null}},{key:"die",value:function(){var e;this.alive=!1,null===(e=this.city)||void 0===e||e.onCitizenDie(this)}},{key:"food",get:function(){return this.discrete_food>=3?"stuffed":this.discrete_food>=1?"sated":"hungry"}},{key:"health",get:function(){return this.discrete_health>=3?"fresh":this.discrete_health>=1?"bruised":"sick"}},{key:"isInCrisis",get:function(){return"hungry"==this.food||"podless"==this.shelter||"sick"==this.health}}]),e}(),f=function(){function e(){Object(o.a)(this,e),this.key=0,this.name="",this.institutionKey=1,this.cash=0,this.seasonSinceLastSale=0,this.seasonalBudget=0,this.good="food",this.parentInstitution=null,this.beansHelped=0,this.inventory=0}return Object(c.a)(e,[{key:"work",value:function(e,t){for(;this.cash>0&&this.inventory<10;){var a=t.tryTransact(this,this.good);if(!a)break;t.addCharity(this,this.good,a.bought)}}}]),e}(),v=["food","shelter","medicine","fun"],b=function(){function e(){var t=this;Object(o.a)(this,e),this.market=new E,this.charity=new E,this.unfulfilledSeasonalDemand={food:0,shelter:0,medicine:0,fun:0},this.totalSeasonalDemand={food:0,shelter:0,medicine:0,fun:0},this.totalSeasonalSupply={food:0,shelter:0,medicine:0,fun:0},this.onBeanDie=function(e,a){v.forEach((function(n){var i=t.market.getBeansListings(e,n);if(i){var l=a.getRandomCitizen();l&&(i.sellerCityKey=l.cityKey,i.sellerBeanKey=l.key,i.seller=l)}}))}}return Object(c.a)(e,[{key:"resetSeasonalDemand",value:function(){this.unfulfilledSeasonalDemand={food:0,shelter:0,medicine:0,fun:0},this.totalSeasonalDemand={food:0,shelter:0,medicine:0,fun:0},this.totalSeasonalSupply={food:0,shelter:0,medicine:0,fun:0}}},{key:"tryTransact",value:function(e,t){this.totalSeasonalDemand[t]+=1;var a=this.market.getLowestPriceListing(t,1);if(null==a);else{if(a.price<=e.cash)return this.market.transact(a,t,1,e);if(e instanceof y){var n=this.charity.getLowestPriceListing(t,1);if(n&&n.seller instanceof f)return e.partyLoyalty+=.2,n.seller.beansHelped++,n.seller.inventory-=1,this.charity.transact(n,t,1,e)}}return this.unfulfilledSeasonalDemand[t]+=1,null}},{key:"produceAndPrice",value:function(e,t,a,n){this.totalSeasonalSupply[t]+=a;var i=this.market.getBeansListings(e,t);i?(i.quantity+=a,i.price=n,i.quantity=Math.min(i.quantity,6)):this.market.addNewListing(t,a,n,e),this.market.sort(t)}},{key:"addCharity",value:function(e,t,a){var n=this.charity.getOrgsListings(e,t);n?(n.quantity+=a,n.quantity=Math.min(n.quantity,10),e.inventory=n.quantity):(this.charity.addNewOrgListing(t,a,0,e),e.inventory=a)}},{key:"mostInDemandJob",value:function(){var e=this;return v.reduce((function(t,a){return e.unfulfilledSeasonalDemand[a]>t.max&&(t.max=e.unfulfilledSeasonalDemand[a],t.job=function(e){switch(e){case"shelter":return"builder";case"medicine":return"doc";case"fun":return"entertainer";default:case"food":return"farmer"}}(a)),t}),{max:0,job:null}).job}},{key:"getFairGoodPrice",value:function(e){var t=this.totalSeasonalSupply[e]||1,a=this.totalSeasonalDemand[e];return.25+.75*Math.min(a/t,1)}},{key:"getCostOfLiving",value:function(){return this.getFairGoodPrice("food")+this.getFairGoodPrice("shelter")+this.getFairGoodPrice("medicine")}}]),e}(),E=function(){function e(){Object(o.a)(this,e),this.listings={food:[],shelter:[],medicine:[],fun:[]}}return Object(c.a)(e,[{key:"getLowestPriceListing",value:function(e,t){var a=this.listings[e].filter((function(e){return e.quantity>=t}));if(a.length>0){for(var n=1,i=a[0].price,l=1;l<a.length;l++){if(a[l].price>i)break;n++}var r=Math.floor(Math.random()*n);if(r>=a.length)throw"invalid index";return a[r]}return null}},{key:"getBeansListings",value:function(e,t){return this.listings[t].find((function(t){return t.sellerBeanKey==e.key&&t.sellerCityKey==e.cityKey}))}},{key:"getOrgsListings",value:function(e,t){return this.listings[t].find((function(t){return t.sellerOrganizationKey==e.key}))}},{key:"transact",value:function(e,t,a,n){return e.quantity-=a,e.quantity<=0&&this.listings[t].splice(0,1),n.cash-=e.price,e.seller.cash+=e.price,e.seller.seasonSinceLastSale--,{bought:a,price:e.price}}},{key:"addNewListing",value:function(e,t,a,n){this.listings[e].push({sellerCityKey:n.cityKey,sellerBeanKey:n.key,price:a,seller:n,quantity:t})}},{key:"addNewOrgListing",value:function(e,t,a,n){this.listings[e].push({sellerOrganizationKey:n.key,price:a,seller:n,quantity:t})}},{key:"sort",value:function(e){this.listings[e].sort((function(e,t){return e.price-t.price}))}}]),e}(),g=function(){function e(){Object(o.a)(this,e),this.key=1,this.playerKey=1,this.organizations=[],this.name="Citizen's Party",this.slogan="Vote for us!",this.community="state",this.ideals="trad",this.availablePolicies=[],this.proposedPolicy=void 0,this.availableCampaigns=[],this.activeCampaigns=[],this.politicalCapital=10,this.materialCapital=20,this.labor=10,this.activeHQs=[],this.platform={},this.seasonalIncome=0,this.seasonalActions=0}return Object(c.a)(e,[{key:"fundOrganizations",value:function(){var e=this;this.organizations.forEach((function(t){e.materialCapital>=t.seasonalBudget&&(e.materialCapital-=t.seasonalBudget,t.cash+=t.seasonalBudget)}))}},{key:"differingPolicies",value:function(e){var t=this;return Object.keys(this.platform).filter((function(a){var n=a;return t.platform[n]!=e.policyTree[n]})).map((function(e){return t.platform[e]}))}}]),e}(),w=function e(){Object(o.a)(this,e),this.cityKey=0},k={key:"-1",name:"No Policy",axis:"all"},C=[k,{key:"0",name:"Let Them Eat Cake",ideals:"trad",community:"ego",axis:"wel_food",hint:"No state solution for hunger"},{key:"1",name:"Food Bank",ideals:"prog",community:"ego",axis:"wel_food"},{key:"2",name:"Food Stamps",ideals:"trad",community:"state",axis:"wel_food"},{key:"3",name:"Universal Rations",ideals:"prog",community:"state",axis:"wel_food"},{key:"4",name:"Sleep Outside",community:"ego",ideals:"trad",axis:"wel_house"},{key:"5",name:"Homeless Shelters",community:"ego",ideals:"prog",axis:"wel_house"},{key:"6",name:"Housing Subsidy",community:"state",ideals:"trad",axis:"wel_house"},{key:"7",name:"State Apartments",community:"state",ideals:"prog",axis:"wel_house"},{key:"8",name:"Stay Healthy",community:"ego",ideals:"trad",axis:"wel_health"},{key:"9",name:"Charity Clinics",community:"ego",ideals:"prog",axis:"wel_health"},{key:"10",name:"Medical Aid",community:"state",ideals:"trad",axis:"wel_health"},{key:"11",name:"Universal Healthcare",community:"state",ideals:"prog",axis:"wel_health"},{key:"12",name:"Tariffs",community:"state",axis:"econ_ex"},{key:"13",name:"Free Market",community:"ego",axis:"econ_ex"},{key:"14",name:"Legal Slavery",ideals:"trad",axis:"econ_labor"},{key:"15",name:"Right to Work",community:"ego",ideals:"trad",axis:"econ_labor"},{key:"16",name:"Right to Strike",community:"ego",ideals:"prog",axis:"econ_labor"},{key:"17",name:"Laissez-faire",community:"ego",ideals:"trad",axis:"econ_sub"},{key:"18",name:"Grain Subsidy",community:"state",axis:"econ_sub"},{key:"19",name:"Arts Patronage",community:"ego",ideals:"prog",axis:"econ_sub"},{key:"20",name:"State Religion",community:"state",ideals:"trad",axis:"cul_rel"},{key:"21",name:"Secularism",community:"ego",axis:"cul_rel"},{key:"22",name:"State Atheism",community:"state",ideals:"prog",axis:"cul_rel"},{key:"23",name:"Temple of Water \ud83c\udf0a",axis:"cul_theo"},{key:"24",name:"Church of Sun \u2600\ufe0f",axis:"cul_theo"},{key:"25",name:"Chapel of Clover \u2618\ufe0f",axis:"cul_theo"},{key:"26",name:"Religious Schooling",community:"state",ideals:"trad",axis:"cul_ed"},{key:"27",name:"University Grants",community:"ego",axis:"cul_ed"},{key:"28",name:"College For All",community:"state",ideals:"prog",axis:"cul_ed"},{key:"29",name:"Landowners Vote",community:"state",ideals:"trad",axis:"law_vote",hint:"only homeowners vote"},{key:"30",name:"Poll Tax",community:"ego",ideals:"trad",axis:"law_vote",hint:"voting requires small amount of cash"},{key:"31",name:"Universal Suffrage",ideals:"prog",axis:"law_vote",hint:"all citizens vote"},{key:"32",name:"Scandalous Bribes",community:"state",ideals:"trad",axis:"law_bribe",hint:"5% chance bribery causes scandal"},{key:"33",name:"Legal Bribery",community:"ego",axis:"law_bribe",hint:"Bribery has no consequences"},{key:"34",name:"Anti-Corruption",community:"state",ideals:"prog",axis:"law_bribe",hint:"25% chance bribery results in fine"},{key:"35",name:"Closed Borders",ideals:"trad",axis:"law_imm"},{key:"36",name:"Best and Brightest",community:"state",ideals:"prog",axis:"law_imm"},{key:"37",name:"Huddle Masses",community:"ego",ideals:"prog",axis:"law_imm"},{key:"38",name:"Head Tax",community:"state",ideals:"trad",axis:"tax_basic"},{key:"39",name:"Sales Tax",community:"ego",axis:"tax_basic"},{key:"40",name:"Wealth Tax",community:"state",ideals:"prog",axis:"tax_basic"},{key:"38",name:"Vice Tax",ideals:"trad",axis:"tax_second"},{key:"39",name:"Property Tax",ideals:"prog",axis:"tax_second"},{key:"40",name:"Death Tax",ideals:"prog",axis:"tax_second"}],S=C.reduce((function(e,t){return e[t.axis]||(e[t.axis]=[]),e[t.axis].push(t),e}),{});function N(e){return C.find((function(t){return t.key==e}))}var O=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return a}(function(){function e(){Object(o.a)(this,e),this.callbacks=[]}return Object(c.a)(e,[{key:"publish",value:function(e){this.callbacks.forEach((function(t){return t(e)}))}},{key:"subscribe",value:function(e){this.callbacks.push(e)}},{key:"unsubscribe",value:function(e){this.callbacks.splice(this.callbacks.indexOf(e),1)}}]),e}()),_=function e(){Object(o.a)(this,e),this.physicalCapital=new O,this.politicalCapital=new O,this.labor=new O},x=function(){function e(){Object(o.a)(this,e),this.policyTree={}}return Object(c.a)(e,[{key:"policies",get:function(){return Object.values(this.policyTree)}}]),e}(),j=function(){function e(){Object(o.a)(this,e),this.cities=[],this.law=new x,this.economy=new b,this.institutions=[],this.party=new g,this.date={year:0,season:n.Spring},this.electionIn=11,this.yearsEvents=[],this.bus=new _}return Object(c.a)(e,[{key:"calculateComputedState",value:function(){var e=this;this.cities.forEach((function(t){t.calculate(e.economy,e.law),t.beans.forEach((function(a){return a.calculateBeliefs(e.economy,t,e.law,e.party)}))}))}},{key:"next",value:function(){var e=this;this.electionIn--,this.electionIn<=0&&(this.electionIn=8),this.date.season++,this.date.season>3&&(this.date.year++,this.inflate(),this.resetYearlyCounters(),this.date.season=0),this.economy.resetSeasonalDemand(),this.institutions.forEach((function(e){return e.fundOrganizations()})),P(this.beans).forEach((function(t){t.work(e.law,e.economy)})),this.organizations.forEach((function(t){return t.work(e.law,e.economy)})),P(this.beans).forEach((function(t){var a=t.eat(e.economy);a&&e.yearsEvents.push(a),(a=t.weather(e.economy))&&e.yearsEvents.push(a),(a=t.age(e.economy))&&e.yearsEvents.push(a),(a=t.maybeBaby(e.economy))&&e.yearsEvents.push(a)})),this.cities.forEach((function(t){return t.getTaxesAndDonations(e.party,e.economy)})),P(this.beans).forEach((function(t){t.maybeOverconsume(e.economy)})),this.calculateComputedState()}},{key:"inflate",value:function(){var e=(this.beans.reduce((function(e,t){return e+t.cash}),0)+this.organizations.reduce((function(e,t){return e+t.cash}),0))/100,t=Math.round(1*e);if(t>0){var a=this.beans.reduce((function(e,t){return t.cash>e.max&&(e.winner=t,e.max=t.cash),e}),{max:0});a.winner&&(a.winner.cash+=t)}}},{key:"resetYearlyCounters",value:function(){this.yearsEvents=[],this.cities.forEach((function(e){e.yearsPartyDonations=0}))}},{key:"addCharity",value:function(e,t,a){var n=new f;n.name=t,n.good=e,n.seasonalBudget=a,this.party.organizations.push(n)}},{key:"beans",get:function(){return this.cities.reduce((function(e,t){return e.concat(t.beans)}),[])}},{key:"historicalBeans",get:function(){return this.cities.reduce((function(e,t){return e.concat(t.historicalBeans)}),[])}},{key:"organizations",get:function(){return this.institutions.reduce((function(e,t){return e.concat(t.organizations)}),[])}}]),e}();function P(e){for(var t=e.length;t>0;){var a=Math.floor(Math.random()*t),n=e[--t];e[t]=e[a],e[a]=n}return e}var D,M=function(){function e(){Object(o.a)(this,e),this.name="",this.url="",this.type="",this.key=0,this.historicalBeans=[],this.houses=[],this.partyHQ=void 0,this.yearsPartyDonations=0,this.majorityEthnicity="circle",this.environment=void 0,this.doOnCitizenDie=[]}return Object(c.a)(e,[{key:"getRandomCitizen",value:function(){var e=P(this.beans);return e.length>0?e[0]:null}},{key:"onCitizenDie",value:function(e){var t=this;if(e.cash>0){var a=this.getRandomCitizen();a&&(a.cash=a.cash+e.cash,e.cash=0)}this.doOnCitizenDie.forEach((function(a){return a(e,t)}))}},{key:"breedBean",value:function(e){var t,a,n=q(this,this.historicalBeans.length);n.ethnicity=e.ethnicity,n.job=Math.random()<=.5?e.job:A(["doc","farmer","builder","jobless"]),n.cash=e.cash/2,e.cash/=2,this.environment&&(n.dob={year:null===(t=this.environment)||void 0===t?void 0:t.year,season:null===(a=this.environment)||void 0===a?void 0:a.season}),this.historicalBeans.push(n)}},{key:"getTaxesAndDonations",value:function(e,t){var a=this;this.partyHQ&&this.beans.forEach((function(n){var i=n.maybeDonate(t);e.materialCapital+=i,a.yearsPartyDonations+=i}))}},{key:"calculate",value:function(e,t){var a=this.beans.reduce((function(e,t){switch(t.ethnicity){case"circle":e.circle++;break;case"square":e.square++;break;case"triangle":e.triangle++}return e}),{circle:0,square:0,triangle:0});a.circle>a.square&&a.circle>a.triangle?this.majorityEthnicity="circle":a.square>a.circle&&a.square>a.triangle?this.majorityEthnicity="square":this.majorityEthnicity="triangle"}},{key:"beans",get:function(){return this.historicalBeans.filter((function(e){return e.alive}))},set:function(e){throw"can't set city beans"}}]),e}(),B={state:"\ud83d\udc18",ego:"\ud83e\udd85"},F={prog:"\ud83c\udf93",trad:"\ud83d\udc51"};function T(e){return 100*Math.min(1,Math.max(-1,e.reduce((function(e,t){return e+=t.mod}),0)))}!function(e){e[e.Deficient=-.25]="Deficient",e[e.Sufficient=0]="Sufficient",e[e.Abundant=.15]="Abundant"}(D||(D={}));var L={podless:{reason:"Homeless",mod:D.Deficient},crowded:{reason:"Renting",mod:D.Sufficient},homeowner:{reason:"Homeowner",mod:D.Abundant},sick:{reason:"Sick",mod:D.Deficient},bruised:{reason:"Bruised",mod:D.Sufficient},fresh:{reason:"Healthy",mod:D.Abundant},hungry:{reason:"Hungry",mod:D.Deficient},sated:{reason:"Sated",mod:D.Sufficient},stuffed:{reason:"Stuffed",mod:D.Abundant}};function I(e){switch(e){case"builder":return"shelter";case"doc":return"medicine";case"entertainer":return"fun";default:case"farmer":return"food"}}function H(e){return function(e,t){var a=new Uint32Array(1);window.crypto.getRandomValues(a);var n=a[0]/4294967296;return e=Math.ceil(e),t=Math.floor(t),Math.floor(n*(t-e+1))+e}(0,e-1)}function A(e){if(1==e.length)return e[0];var t=H(e.length);return console.log(t),e[t]}function R(){var e=new j;e.law.policyTree={wel_food:N("0"),wel_house:N("4"),wel_health:N("8"),econ_ex:N("13"),econ_labor:N("15"),econ_sub:k,cul_rel:N("21"),cul_theo:k,cul_ed:k,law_vote:N("31"),law_bribe:N("32"),law_imm:N("35"),tax_basic:N("38"),tax_second:k,all:k},e.party=new g,e.institutions.push(e.party);for(var t=0;t<6;t++)if(e.cities.push(z(e.cities.length)),e.cities[t].doOnCitizenDie.push(e.economy.onBeanDie),e.cities[t].environment=e.date,t<2)e.cities[t];return e.economy.totalSeasonalDemand.food=e.beans.length,e.economy.totalSeasonalDemand.shelter=e.beans.length,e.economy.totalSeasonalDemand.medicine=e.beans.length,e.next(),e.next(),e.next(),e.next(),e}function z(e){var t=new M;t.key=e,t.name=A(["New ","Old ","Fort ","St. ","Mount ","Grand ","","","","","","","","","",""]),t.name+=A(["Spring","Timber","Over","West","East","North","South","Rock","Sand","Clay","Iron","Ore","Coal","Liver","Hawk","Red","Yellow","Gold","Blue","Black","White","Sunny","Reed","Ox","Mill","Fern","Down","Bel","Bald","Ash"]),t.name+=A(["water "," Springs","ville","dale","lane","peak","coast","beach","port","market","ton","brook"," Creek","land","burgh","bridge","ford","bury","chester","son","vale"," Valley","hill","more","wood"," Oaks"," Cove","mouth","way","crest"]);for(;t.historicalBeans.length<3;)t.historicalBeans.push(q(t,t.historicalBeans.length));for(var a=Math.floor(1.5+Math.floor(3*Math.random()/2)),n=0;n<a;n++)t.houses.push({left:Math.floor(60*Math.random()),top:Math.floor(60*Math.random())});return t}function q(e,t){var a=new y;a.key=t,a.cityKey=e.key,a.city=e,a.name=A(["Chick","Broad","Velvet","Jack","Lima","Whit","Black-Eye","Baker","Pony","Castor","Frenchy","Kid","Runner"])+" ",a.name+=A(["Bean","Navy","Sprout","Soy","Mung","Lent","Faba","Wax","Chick","Green","Pinto"]),a.name+=A(["shell","seed","pea","pod","snap","vine","leaf","shoot"]),a.community=A(["state","ego"]),a.ideals=A(["prog","trad"]),a.faith=A(["book","music","heart","noFaith"]);var n=t%3;return a.job=0==n?"farmer":1==n?"builder":"doc",a.cash=function(e){var t=4+Math.floor(3*Math.random());switch(e){case"doc":return t+2;default:return t}}(a.job),a.discrete_food=2,a}var W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={show:!1},n}return Object(c.a)(a,[{key:"getButton",value:function(){var e=this;return this.props.hideCloseButton?null:l.a.createElement("button",{type:"button",className:"done",onClick:function(){return e.props.onClick()}},this.props.closeButtonText||"Done")}},{key:"render",value:function(){return this.props.show?l.a.createElement("div",{className:"modal"},this.props.children,this.getButton()):null}}]),a}(l.a.Component),K=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"header",value:function(){return this.props.children?l.a.createElement("b",null,this.props.children):null}},{key:"render",value:function(){var e=this,t=this.props.beans.filter((function(t){return e.props.need(t)==e.props.dire})).length,a={width:Math.floor(t/this.props.beans.length*100)+"%"},n=this.props.beans.filter((function(t){return e.props.need(t)==e.props.abundant})).length,i={width:Math.floor(n/this.props.beans.length*100)+"%"};return l.a.createElement("div",{className:this.props.className},this.header(),l.a.createElement("div",{className:"bar"},l.a.createElement("div",{className:"bar-inner dire",style:a},t>0?"".concat(t," ").concat(ce[this.props.dire]):""),l.a.createElement("div",{className:"bar-inner abundant",style:i},n>0?n:"")))}}]),a}(l.a.Component);function G(e){return Q(e,"ego",(function(e){return e.ideals}))}function $(e){return Q(e,"state",(function(e){return e.community}))}function Q(e,t,a){var n={avg:0,winner:t},i=e.reduce((function(e,t){var n=a(t);return null==e[n]?e[n]=1:e[n]++,e}),{});return Object.keys(i).forEach((function(e){i[e]>n.avg&&(n.avg=i[e],n.winner=e)})),n.avg/=e.length,n}var U=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"hq",value:function(){return this.props.city?this.props.city.partyHQ?l.a.createElement("div",null,"\ud83c\udfe2 Has Party HQ",l.a.createElement("br",null),"$",this.props.city.yearsPartyDonations.toFixed(2)," donations this year"):l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{type:"button",className:"important"},"\ud83c\udfe2 Add HQ for $10"),l.a.createElement("br",null),l.a.createElement("small",null,"+1 action per season & chance for donations")):null}},{key:"render",value:function(){var e=this,t=null;this.props.city&&(t=l.a.createElement("div",null,l.a.createElement("b",null,this.props.city.name),l.a.createElement("button",{type:"button",className:"pull-r",onClick:function(){return e.props.clearCity()}},"\u274c")));var a,n=this.props.beans.reduce((function(e,t){return e+t.lastHappiness}),0)/(this.props.beans.length||1),i=this.props.beans.reduce((function(e,t){return e+t.cash}),0)/(this.props.beans.length||1),r=this.props.beans.reduce((function(e,t){return e+t.lastPartySentiment}),0)/(this.props.beans.length||1);return l.a.createElement("div",null,t,l.a.createElement("div",{className:"header"},l.a.createElement("b",null,"Demographics")),l.a.createElement("div",null,l.a.createElement("b",null,"Population"),"\xa0",l.a.createElement("span",null,this.props.beans.length)),l.a.createElement(V,{report:(a=this.props.beans,Q(a,"circle",(function(e){return e.ethnicity})))},"Ethnicity"),l.a.createElement("div",{className:"header"},l.a.createElement("b",null,"Situation")),l.a.createElement(K,{beans:this.props.beans,need:function(e){return e.food},dire:"hungry",abundant:"stuffed"},"Food Security"),l.a.createElement(K,{beans:this.props.beans,need:function(e){return e.shelter},dire:"podless",abundant:"homeowner"},"Housing"),l.a.createElement(K,{beans:this.props.beans,need:function(e){return e.health},dire:"sick",abundant:"fresh"},"Healthcare"),l.a.createElement("b",null,"Avg. Money")," $",i.toFixed(2)," \xa0",l.a.createElement("b",null,"Avg. Happiness")," ",Math.round(n),"%",l.a.createElement("div",{className:"header"},l.a.createElement("b",null,"Electorate")),l.a.createElement(V,{report:$(this.props.beans)},"Community"),l.a.createElement(V,{report:G(this.props.beans)},"Ideals"),l.a.createElement("div",{className:"header"},l.a.createElement("b",null,"Party")),this.hq(),l.a.createElement("div",null,l.a.createElement("b",null,"Approval"),"\xa0",l.a.createElement("span",null,r.toFixed(0),"%")))}}]),a}(l.a.Component),V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){var e="Leaning";this.props.report.avg>=.51&&(e="Major"),this.props.report.avg>=.8&&(e="Extreme");var t=Math.floor(100*this.props.report.avg),a={width:t+"%"};return l.a.createElement("div",null,l.a.createElement("b",null,this.props.children),"\xa0\xa0",l.a.createElement("span",null,e," ",ce[this.props.report.winner]),l.a.createElement("div",{className:"bar"},l.a.createElement("div",{className:"bar-inner",style:a},t,"%")))}}]),a}(l.a.Component),J=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).timerID=void 0,n.delaySeedSec=void 0,n.waitSeedSec=void 0,n.timerID=null,n.delaySeedSec=60*Math.random()+n.props.bean.key,n.waitSeedSec=1+3*Math.random()+n.props.bean.key,n.state={paused:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.startWander()}},{key:"startWander",value:function(){var e=this;this.setState({paused:!1}),this.timerID=window.setTimeout((function(){return e.stopWander()}),1e3*this.waitSeedSec)}},{key:"componentWillUnmount",value:function(){this.timerID&&window.clearInterval(this.timerID)}},{key:"stopWander",value:function(){var e=this;this.setState({paused:!0}),this.timerID=window.setTimeout((function(){return e.startWander()}),1e3)}},{key:"getIdea",value:function(){if(this.state.paused){var e=this.props.bean.getIdea(this.props.costOfLiving);if(e)return l.a.createElement("span",{className:e.bad?"bad idea":"idea"},e.idea)}return null}},{key:"render",value:function(){var e=this,t=this.props.bean.job+" "+this.props.bean.ethnicity;t+=this.state.paused||!this.props.bean.alive?" paused":"",this.props.sitStill||(t+=" bean-walker");var a="".concat(this.props.bean.food," ").concat(this.props.bean.shelter," ").concat(this.props.bean.health," ").concat(this.props.bean.community," ").concat(this.props.bean.ideals," $").concat(this.props.bean.cash);return l.a.createElement("span",{className:t+" bean interactable",style:{animationDelay:"-"+this.delaySeedSec+"s"},title:a,onClick:function(t){t.stopPropagation(),e.props.onClick()}},this.props.bean.getFace()," ",this.getIdea())}}]),a}(l.a.Component),Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={tile:null,city:null,activeTileID:null},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.city.beans.map((function(t){return l.a.createElement(J,{bean:t,key:t.key,costOfLiving:e.props.costOfLiving,onClick:function(){return e.props.onBeanClick(t)}})})),a=this.props.city.historicalBeans.filter((function(e){return!e.alive})).map((function(e,t){return l.a.createElement("span",{key:t,className:"dead",style:{left:10*t+"px"}},"\u26b0\ufe0f")})),n=this.props.city.houses.map((function(e,t){var a={left:e.left+"%",top:e.top+"%"};return l.a.createElement("span",{key:t,style:a,className:"house"},"\ud83c\udfe1")}));return l.a.createElement("div",{className:"tile",onClick:function(){return e.props.onClick()}},a,n,t,l.a.createElement("span",{className:"tile-label"},this.props.tile.name),l.a.createElement("img",{src:this.props.tile.url,alt:this.props.tile.type}))}}]),a}(l.a.Component);function X(e){if(0===e.length)return 0;e.sort((function(e,t){return e-t}));var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}var Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={paused:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.world.beans,t=X(e.map((function(e){return e.discrete_food}))),a=X(e.map((function(e){return e.discrete_health}))).toFixed(1),n=e.reduce((function(e,t){return e+t.cash}),0),i=n/(e.length||1),r=X(e.map((function(e){return e.cash}))),s=e.filter((function(e){return e.cash<1})).length,o=Math.max(i,r),c=e.filter((function(e){return e.cash>o})),u=c.length/(e.length||1)*100,m=c.reduce((function(e,t){return e+t.cash}),0)/n*100,h=e.reduce((function(e,t){return e[t.job]=(e[t.job]||0)+1,e}),{}),d=((h.jobless||0)/e.length*100).toFixed(1);function p(e,t){return e.supply+=t.quantity,e.price+=t.price,e.count++,e.avg=e.price/e.count,e}var y=this.props.world.economy.market.listings.food.reduce(p,{supply:0,price:0,avg:0,count:0}),f=this.props.world.economy.market.listings.medicine.reduce(p,{supply:0,price:0,avg:0,count:0}),v=this.props.world.economy.market.listings.shelter.reduce(p,{supply:0,price:0,avg:0,count:0});return l.a.createElement("div",null,l.a.createElement("div",{className:"pad-4p"},l.a.createElement("h3",null,"Citizen's Health")),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,l.a.createElement("strong",null,"\ud83c\udf5e Food Security")," Median:",t," meals ",l.a.createElement("br",null),l.a.createElement(K,{beans:this.props.world.beans,need:function(e){return e.food},dire:"hungry",abundant:"stuffed",className:"big"}),"Supply: ",y.supply," meals. Avg. price $",y.avg.toFixed(2)," ",l.a.createElement("br",null),"Unfulfilled Demand: ",this.props.world.economy.unfulfilledSeasonalDemand.food," meals"),l.a.createElement("div",null,l.a.createElement("strong",null,"\ud83e\ude7a Healthcare")," Median:",a," ",l.a.createElement("br",null),l.a.createElement(K,{beans:this.props.world.beans,need:function(e){return e.health},dire:"sick",abundant:"fresh",className:"big"}),"Supply: ",f.supply," treatments. Avg. price $",f.avg.toFixed(2),"  ",l.a.createElement("br",null),"Unfulfilled Demand: ",this.props.world.economy.unfulfilledSeasonalDemand.medicine," treatments")),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,l.a.createElement("strong",null,"\ud83c\udfe1 Housing")," ",l.a.createElement("br",null),l.a.createElement(K,{beans:this.props.world.beans,need:function(e){return e.shelter},dire:"podless",abundant:"homeowner",className:"big"}),"Supply: ",v.supply," units. Avg. price $",v.avg.toFixed(2),"   ",l.a.createElement("br",null),"Unfulfilled Demand: ",this.props.world.economy.unfulfilledSeasonalDemand.shelter," units")),l.a.createElement("div",{className:"pad-4p"},l.a.createElement("h3",null,"Economic Health")),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,l.a.createElement("strong",null,"\ud83d\udcb0 Wealth")," Household Wealth: ",n.toFixed(2),l.a.createElement("br",null),s," penniless citizens \xa0 \xa0 Cost of Living: $",this.props.world.economy.getCostOfLiving().toFixed(2)," ",l.a.createElement("br",null),"Median: $",r.toFixed(2)," Average: $",i.toFixed(2)," ",l.a.createElement("br",null),"Top ",u.toFixed(1),"% of beans own ",m.toFixed(1),"% of the wealth"),l.a.createElement("span",null,l.a.createElement("strong",null,"Unemployment")," ",d,"% (",h.jobless,")",l.a.createElement("br",null),l.a.createElement("strong",null,"Employment"),l.a.createElement("ul",{className:"boxes"},l.a.createElement("li",null,h.farmer," farmers"),l.a.createElement("li",null,h.builder," builders"),l.a.createElement("li",null,h.doc," doctors")))))}}]),a}(l.a.Component),ee=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.events.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement("span",null,e.icon),"\xa0",l.a.createElement("span",null,e.message))}));return 0===this.props.events.length&&(e=[l.a.createElement("div",{key:0},l.a.createElement("small",null,"No events yet this year"))]),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,"Events")),e)}}]),a}(l.a.Component),te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).solicit=function(){n.props.solicit(n.props.bean)&&(n.setState({faceOverride:"\ud83d\ude07"}),n._resetFace())},n.insult=function(){n.props.insult(n.props.bean),n.setState({faceOverride:"\ud83d\ude21"}),n._resetFace()},n.support=function(){n.props.support(n.props.bean),n.setState({faceOverride:"\ud83e\udd29"}),n._resetFace()},n.state={},n}return Object(c.a)(a,[{key:"_resetFace",value:function(){var e=this;setTimeout((function(){e.setState({faceOverride:void 0})}),5e3)}},{key:"happyTable",value:function(e){return e.filter((function(e){return 0!=e.mod})).map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",{className:"small text-right"},e.reason),l.a.createElement("td",{className:"small"},Math.round(100*e.mod),"%"))}))}},{key:"render",value:function(){var e=this,t=this.props.bean.job+" "+this.props.bean.ethnicity,a=this.props.bean.chanceToDonate(this.props.economy,!0),n=(100*a).toFixed(0)+"% to gain Cash",i=this.props.party.activeHQs.length+2;return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,this.props.bean.name,"\xa0",l.a.createElement("small",null,"of ",this.props.city.name)),l.a.createElement("button",{type:"button",className:"pull-r",onClick:function(){return e.props.clearCity()}},"\u274c")),l.a.createElement("div",{className:"bean-view"},l.a.createElement("span",{className:t+" bean"},void 0===this.state.faceOverride?this.props.bean.getFace():this.state.faceOverride)),l.a.createElement("table",{className:"width-100p"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Ethnicity")),l.a.createElement("td",null,ce[this.props.bean.ethnicity])),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:2,className:"header"},l.a.createElement("b",null,"Situation"))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Food Security")),l.a.createElement("td",null,ce[this.props.bean.food])),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Shelter")),l.a.createElement("td",null,ce[this.props.bean.shelter])),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Healthcare")),l.a.createElement("td",null,ce[this.props.bean.health])),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Money")),l.a.createElement("td",null,"$",this.props.bean.cash.toFixed(2))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Happiness")),l.a.createElement("td",null,Math.round(this.props.bean.lastHappiness),"%")),this.happyTable(this.props.bean.getHappinessModifiers(this.props.economy,this.props.city,this.props.law)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Community")),l.a.createElement("td",null,ce[this.props.bean.community])),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Ideal")),l.a.createElement("td",null,ce[this.props.bean.ideals])),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:2,className:"header"},l.a.createElement("b",null,"Party"))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Approval")),l.a.createElement("td",null,Math.round(this.props.bean.lastPartySentiment),"%")),this.happyTable(this.props.bean.getSentimentModifiers(this.props.economy,this.props.city,this.props.law,this.props.party).party))),l.a.createElement("div",{className:"card-parent"},l.a.createElement("button",{type:"button",disabled:a<.05,className:"button card",onClick:this.solicit,title:n},"\ud83e\udd32 Solicit Donation",l.a.createElement("small",null,"+Cash -Labor"))),l.a.createElement("div",{className:"card-parent"},l.a.createElement("button",{type:"button",className:"button card",onClick:this.support,disabled:!this.props.bean.canSupport(),title:"Spend Political Capital to increase this bean's party approval"},"\ud83d\ude18 Endorse",l.a.createElement("small",null,"+Approval -Influence")),l.a.createElement("button",{type:"button",className:"button card",onClick:this.solicit,title:n},"\ud83d\udcaa Recruit",l.a.createElement("small",null,"+Labor -Influence"))),l.a.createElement("div",{className:"card-parent"},l.a.createElement("button",{type:"button",className:"button card",onClick:this.insult,disabled:!this.props.bean.canInsult(),title:"Decrease this bean's party approval to gain Political Capital"},"\ud83d\ude08 Denounce",l.a.createElement("small",null,"+Influence -Approval")),l.a.createElement("button",{type:"button",disabled:this.props.party.materialCapital<1,className:"button card",onClick:this.solicit,title:"Pay $ to increase approval"},"\ud83d\udcb0 Bribe",l.a.createElement("small",null,"+Approval -Cash"))),l.a.createElement("div",{className:"text-center"},l.a.createElement("small",null,i-this.props.party.seasonalActions," of ",i," Activities remaining")))}}]),a}(l.a.Component),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.props.onChange(e.target.value)},n.state={key:e.value||null},n}return Object(c.a)(a,[{key:"hint",value:function(){if(this.props.hint)return l.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},this.props.hint)}},{key:"options",value:function(){var e=this;return this.props.options.map((function(t){return l.a.createElement("option",{value:t.key,key:t.key,title:e.getTitleForOption(t)},e.getTextForOption(t))}))}},{key:"render",value:function(){return l.a.createElement("select",{onChange:this.onChange,value:this.state.key,required:null!=this.props.hint},this.hint(),this.options())}},{key:"getTitleForOption",value:function(e){}}]),a}(l.a.Component),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"getTextForOption",value:function(e){return e.name}}]),a}(ae),ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onName=function(e){n.setState({name:e.target.value})},n.onSlogan=function(e){n.setState({slogan:e.target.value})},n.onCity=function(e){n.setState({cityKey:+e})},n.state={community:null,ideal:null,name:"Citizen's Party",slogan:"Vote for us!",members:"Citizens",goal:"Legislation",cityKey:0},n}return Object(c.a)(a,[{key:"onCommunity",value:function(e){var t=this;this.setState({community:e},(function(){t.onBigFourChange()}))}},{key:"onIdeal",value:function(e){var t=this;this.setState({ideal:e},(function(){t.onBigFourChange()}))}},{key:"onBigFourChange",value:function(){"ego"===this.state.community&&"trad"===this.state.ideal?this.setState({name:"Liberal Family Party",slogan:"Father Knows Best.",members:"Farmers",goal:"Tariffs"}):"ego"===this.state.community&&"prog"===this.state.ideal?this.setState({name:"Free Worker's Party",slogan:"Liberty for Labor!",members:"Builders",goal:"Right to Strike"}):"state"===this.state.community&&"trad"===this.state.ideal?this.setState({name:"National Landowners' Party",slogan:"For Culture & Country!",members:"Homeowners",goal:"Repeal Property Tax"}):"state"===this.state.community&&"prog"===this.state.ideal&&this.setState({name:"Social People's Party",slogan:"Equality, Guaranteed.",members:"Penniless",goal:"Food Welfare"})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h2",null,"Found your Political Party"),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,"My fellow party members believe the",l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"community",value:"state",checked:"state"===this.state.community,onChange:function(t){return e.onCommunity(t.currentTarget.value)}})," ",l.a.createElement("b",null,"Government")," \ud83d\udc18 "),"\xa0\xa0or\xa0\xa0",l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"community",value:"ego",checked:"ego"===this.state.community,onChange:function(t){return e.onCommunity(t.currentTarget.value)}})," ",l.a.createElement("b",null,"Individual")," \ud83e\udd85 ")),"\xa0 is responsible for well-being."),l.a.createElement("div",null,"My fellow party members believe in",l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"ideal",value:"trad",checked:"trad"===this.state.ideal,onChange:function(t){return e.onIdeal(t.currentTarget.value)}})," ",l.a.createElement("b",null,"Traditional")," "," \ud83d\udc51"),"\xa0\xa0or\xa0\xa0",l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"ideal",value:"prog",checked:"prog"===this.state.ideal,onChange:function(t){return e.onIdeal(t.currentTarget.value)}})," ",l.a.createElement("b",null,"Progressive")," "," \ud83c\udf93")),"\xa0 social values.")),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,"My party's first members are mostly ",l.a.createElement("b",null,this.state.members)),l.a.createElement("div",null,"My party's first major goal is to pass ",l.a.createElement("b",null,this.state.goal))),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,"My party is named ",l.a.createElement("input",{type:"text",value:this.state.name,onChange:this.onName})),l.a.createElement("div",null,"My party's slogan is ",l.a.createElement("input",{type:"text",value:this.state.slogan,onChange:this.onSlogan}))),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,"My party is based in\xa0",l.a.createElement(ne,{options:this.props.cities,onChange:this.onCity})),l.a.createElement("div",null)),l.a.createElement("button",{type:"button",disabled:null==this.state.community||null==this.state.ideal,className:"important btn-found-party",onClick:function(){return e.props.onFound(e.state)}},"Found the ",this.state.name))}}]),a}(l.a.Component),le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"getTextForOption",value:function(e){return"".concat(e.name," ").concat(e.community?B[e.community]:"").concat(e.ideals?F[e.ideals]:"")}},{key:"getTitleForOption",value:function(e){return e.hint}}]),a}(ae),re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"setPolicy",value:function(e){var t=this;return function(a){var n=N(a);n&&t.props.setPolicy(e,n)}}},{key:"render",value:function(){var e=this.props.world.cities.filter((function(e){return null!=e.partyHQ})).map((function(e,t){return l.a.createElement("i",null,t>0?", ":"",e.name)})),t=this.props.world.party.activeHQs.length+2;return l.a.createElement("div",null,l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,l.a.createElement("h2",null,this.props.world.party.name)),l.a.createElement("div",null,l.a.createElement("h2",{className:"slogan-group"},l.a.createElement("span",{className:"slogan-before"},l.a.createElement("span",{className:"align-base"},"\u2605\u2605\u2605")),l.a.createElement("span",{className:"slogan"},this.props.world.party.slogan),l.a.createElement("span",{className:"slogan-after"},l.a.createElement("span",{className:"align-base"},"\u2605\u2605\u2605"))))),l.a.createElement("div",{className:"policies"},this.props.world.party.availablePolicies.map((function(e){return function(e){return l.a.createElement("div",{className:"policy",key:e.key},l.a.createElement("b",null,e.key),l.a.createElement("p",null,e.fx.map((function(e){return function(e){return l.a.createElement("span",{className:"badge"},ce[e.key],function(e){switch(e){case-3:return"---";case-2:return"--";case-1:return"-";case 1:return"+";case 2:return"++";case 3:return"+++";default:return"/"}}(e.mag))}(e)}))))}(e)}))),l.a.createElement("div",{className:"pad-4p"},l.a.createElement("h3",{className:"small"},"Platform",l.a.createElement("button",{type:"button",className:"pull-r"},"\ud83e\uddea View Political Science")),l.a.createElement("div",{className:"horizontal"},l.a.createElement("div",{className:"vertical reverse"},l.a.createElement("div",{className:"platform-subheader"},"Welfare"),l.a.createElement(le,{options:S.wel_food,value:this.props.world.party.platform.wel_food,onChange:this.setPolicy("wel_food"),hint:"Nutrition"}),l.a.createElement(le,{options:S.wel_house,value:this.props.world.party.platform.wel_house,onChange:this.setPolicy("wel_house"),hint:"Housing"}),l.a.createElement(le,{options:S.wel_health,value:this.props.world.party.platform.wel_health,onChange:this.setPolicy("wel_health"),hint:"Healthcare"})),l.a.createElement("div",{className:"vertical reverse"},l.a.createElement("div",{className:"platform-subheader"},"Taxation"),l.a.createElement(le,{options:S.tax_basic,value:this.props.world.party.platform.tax_basic,onChange:this.setPolicy("tax_basic"),hint:"Basic Tax"}),l.a.createElement(le,{options:S.tax_second,value:this.props.world.party.platform.tax_second,onChange:this.setPolicy("tax_second"),hint:"Secondary Tax"})),l.a.createElement("div",{className:"vertical reverse"},l.a.createElement("div",{className:"platform-subheader"},"Economics"),l.a.createElement(le,{options:S.econ_ex,value:this.props.world.party.platform.econ_ex,onChange:this.setPolicy("econ_ex"),hint:"External"}),l.a.createElement(le,{options:S.econ_labor,value:this.props.world.party.platform.econ_labor,onChange:this.setPolicy("econ_labor"),hint:"Labor"}),l.a.createElement(le,{options:S.econ_sub,value:this.props.world.party.platform.econ_sub,onChange:this.setPolicy("econ_sub"),hint:"Subsidies"})),l.a.createElement("div",{className:"vertical reverse"},l.a.createElement("div",{className:"platform-subheader"},"Culture"),l.a.createElement(le,{options:S.cul_rel,value:this.props.world.party.platform.cul_rel,onChange:this.setPolicy("cul_rel"),hint:"Religion"}),this.props.world.party.platform.cul_rel&&"20"==this.props.world.party.platform.cul_rel.key?l.a.createElement(le,{options:S.cul_theo,value:this.props.world.party.platform.cul_theo,onChange:this.setPolicy("cul_theo"),hint:"Theocracy"}):null,l.a.createElement(le,{options:S.cul_ed,value:this.props.world.party.platform.cul_ed,onChange:this.setPolicy("cul_ed"),hint:"Education"})),l.a.createElement("div",{className:"vertical reverse"},l.a.createElement("div",{className:"platform-subheader"},"Law"),l.a.createElement(le,{options:S.law_vote,value:this.props.world.party.platform.law_vote,onChange:this.setPolicy("law_vote"),hint:"Voting"}),l.a.createElement(le,{options:S.law_bribe,value:this.props.world.party.platform.law_bribe,onChange:this.setPolicy("law_bribe"),hint:"Corruption"}),l.a.createElement(le,{options:S.law_imm,value:this.props.world.party.platform.law_imm,onChange:this.setPolicy("law_imm"),hint:"Immigration"}))),l.a.createElement("div",{className:"horizontal"},l.a.createElement("div",{className:"grow-1 platform-identity"},ce[this.props.world.party.community],"\xa0",B[this.props.world.party.community]),l.a.createElement("div",{className:"grow-1 platform-identity"},ce[this.props.world.party.ideals],"\xa0",F[this.props.world.party.ideals])),l.a.createElement("div",null,l.a.createElement("label",null,"Legislative Focus: \xa0",l.a.createElement(le,{options:Object.values(this.props.world.party.platform).filter((function(e){return null!=e})),onChange:function(){}})))),l.a.createElement("div",{className:"col-2"},l.a.createElement("div",null,l.a.createElement("h3",{className:"small"},"Finances"),l.a.createElement("small",null,"Where money is being raised and spent"),l.a.createElement("table",{className:"classic"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{rowSpan:3},"Revenue"),l.a.createElement("td",null,"Solicitations"),l.a.createElement("td",null," +$1 ")),l.a.createElement("tr",null,l.a.createElement("td",null,"Unsolicited Donations"),l.a.createElement("td",null,"+$1")),l.a.createElement("tr",null,l.a.createElement("td",null,"Fundraisers"),l.a.createElement("td",null,"+$1")),l.a.createElement("tr",null,l.a.createElement("th",{className:"border-t",rowSpan:2},"Expenses"),l.a.createElement("td",{className:"border-t"},"Charities"),l.a.createElement("td",{className:"border-t"},"-$1")),l.a.createElement("tr",null,l.a.createElement("td",null,"Propaganda"),l.a.createElement("td",null,"-$1")),l.a.createElement("tr",null,l.a.createElement("th",{className:"border-t",rowSpan:2},"Physical",l.a.createElement("br",null),"Capital"),l.a.createElement("td",{className:"border-t"},"Income"),l.a.createElement("td",{className:"border-t"},"$",this.props.world.party.seasonalIncome.toFixed(2))),l.a.createElement("tr",null,l.a.createElement("td",null,"On Hand"),l.a.createElement("td",null,"$",this.props.world.party.materialCapital.toFixed(2)))))),l.a.createElement("div",null,l.a.createElement("h3",{className:"small"},"Headquarters"),l.a.createElement("small",null,"Party HQs add Activities and cash donations"),l.a.createElement("div",null,l.a.createElement("strong",null,"HQ Locations:")," ",e),l.a.createElement("h3",{className:"small"},"Activities"),l.a.createElement("small",null,"Number of things that can be done in one season"),l.a.createElement("div",null,"2 free actions + ",this.props.world.party.activeHQs.length," Activities from party HQs"),l.a.createElement("div",null,t-this.props.world.party.seasonalActions," Activities remaining this season"))))}}]),a}(l.a.Component),se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=+new Date,a=e.change>0;n.setState({bubbles:n.state.bubbles.concat([{s:(a?"+":"")+e.change,t:t,c:a?"pos":"neg"}])}),setTimeout((function(){n.setState({bubbles:n.state.bubbles.filter((function(e){return e.t!=t}))})}),1500)},n.state={bubbles:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.changeEvent&&this.props.changeEvent.subscribe(this.onChange)}},{key:"componentWillUnmount",value:function(){this.props.changeEvent&&this.props.changeEvent.unsubscribe(this.onChange)}},{key:"render",value:function(){var e=this,t=this.state.bubbles.map((function(t){return l.a.createElement("span",{key:t.t,className:[t.c,e.props.bubbleClass,"bubbler"].join(" ")},e.props.icon," ",t.s)}));return l.a.createElement("span",{className:"bubble-parent"},this.props.children,t)}}]),a}(l.a.Component),oe=(a(15),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"social-graph"},this.props.beans.map((function(t){return l.a.createElement("div",{className:"bean-node",onClick:function(){return e.props.onClick(t)}},l.a.createElement(J,{bean:t,costOfLiving:e.props.costOfLiving,sitStill:!0,onClick:function(){e.props.onClick(t)}}))})))}}]),a}(l.a.Component)),ce={state:"Statist",ego:"Egoist",trad:"Traditionalist",prog:"Progressive",circle:"Circle",square:"Square",triangle:"Triangle",book:"Book",heart:"Heart",music:"Music",noFaith:"Faithless",hungry:"Hungry",sated:"Sated",stuffed:"Stuffed",podless:"Homeless",crowded:"Crowded",homeowner:"Homeowner",sick:"Sick",bruised:"Bruised",fresh:"Fresh"};var ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).escFunction=function(e){13===e.keyCode&&n.endTurn()},n.foundParty=function(e){n.state.world.party.name=e.name,n.state.world.party.slogan=e.slogan,e.community&&(n.state.world.party.community=e.community),e.ideal&&(n.state.world.party.ideals=e.ideal);var t=n.state.world.cities.find((function(t){return t.key==e.cityKey}));t&&(t.beans.forEach((function(t){e.community&&(t.community=e.community),e.ideal&&(t.ideals=e.ideal)})),function(e,t){var a=new w;a.cityKey=e.key,e.partyHQ=a,t.activeHQs.push(a.cityKey)}(t,n.state.world.party)),n.state.world.calculateComputedState(),n.setState({world:n.state.world,activeModal:null})},n.foundCharity=function(e,t,a){n.state.world.addCharity(e,t,a),n.setState({world:n.state.world})},n.insult=function(e){n.state.world.party.politicalCapital+=1,e.lastInsultDate=d(n.state.world),e.city&&e.calculateBeliefs(n.state.world.economy,e.city,n.state.world.law,n.state.world.party),n.setState({world:n.state.world}),n.state.world.bus.politicalCapital.publish({change:1})},n.support=function(e){n.state.world.party.politicalCapital-=1,e.lastApprovalDate=d(n.state.world),e.city&&e.calculateBeliefs(n.state.world.economy,e.city,n.state.world.law,n.state.world.party),n.setState({world:n.state.world}),n.state.world.bus.politicalCapital.publish({change:-1})},n.solicit=function(e){var t=e.maybeDonate(n.state.world.economy,!0);return t>0&&(n.state.world.party.materialCapital+=t,n.setState({world:n.state.world}),n.state.world.bus.physicalCapital.publish({change:t}),!0)},n.setPolicy=function(e,t){n.state.world.party.platform[e]=t,n.state.world.calculateComputedState(),n.setState({world:n.state.world})},n.state={world:R(),activeCityID:null,activeBeanID:null,activeMain:"geo",activeModal:"party_creation",activeRightPanel:"overview"},n.state.world.calculateComputedState(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.escFunction)}},{key:"endTurn",value:function(){this.state.world.next(),this.setState({world:this.state.world})}},{key:"getPanel",value:function(){var e=this;switch(this.state.activeRightPanel){case"overview":if(null==this.state.activeCityID)return l.a.createElement(U,{beans:this.state.world.beans,clearCity:function(){return e.setState({activeCityID:null})}});var t=this.state.world.cities.find((function(t){return t.key==e.state.activeCityID}));if(t){if(null!=this.state.activeBeanID){var a=t.beans.find((function(t){return t.key==e.state.activeBeanID}));if(a)return l.a.createElement(te,{bean:a,city:t,economy:this.state.world.economy,party:this.state.world.party,bus:this.state.world.bus,law:this.state.world.law,solicit:this.solicit,insult:this.insult,support:this.support,clearCity:function(){return e.setState({activeCityID:null,activeBeanID:null})}})}return l.a.createElement(U,{beans:null===t||void 0===t?void 0:t.beans,city:t,clearCity:function(){return e.setState({activeCityID:null})}})}return l.a.createElement("div",null);case"goals":return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("b",null,"Goals")),l.a.createElement("ul",null,l.a.createElement("li",null,"\u2611\ufe0f Create Party"),l.a.createElement("li",null,"\u2b55\ufe0f Solicit Donations",l.a.createElement("span",{title:"Select a single Bean and Solicit Donation"},"\u2754")),l.a.createElement("li",null,"\u2b55\ufe0f Review Party"),l.a.createElement("li",null,"\u2b55\ufe0f Create Propaganda"),l.a.createElement("li",null,"\u2b55\ufe0f Pass Legislation")));case"events":return l.a.createElement(ee,{events:this.state.world.yearsEvents})}}},{key:"renderGeo",value:function(){var e=this,t=this.state.world.economy.getCostOfLiving();return this.state.world.cities.map((function(a){return l.a.createElement(Y,{tile:a,city:a,costOfLiving:t,key:a.key,onClick:function(){return e.setState({activeCityID:a.key,activeRightPanel:"overview",activeBeanID:null})},onBeanClick:function(t){return e.setState({activeCityID:a.key,activeRightPanel:"overview",activeBeanID:t.key})}})}))}},{key:"renderNetwork",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"horizontal max-w-500 m-t-2em"},l.a.createElement("button",{type:"button"},"\ud83d\ude0e Influence"),l.a.createElement("button",{type:"button"},"\ud83d\udea9 Party Preference"),l.a.createElement("button",{type:"button"},"\ud83d\udcc8 Demographics")),l.a.createElement(oe,{costOfLiving:this.state.world.economy.getCostOfLiving(),beans:this.state.world.beans,onClick:function(t){return e.setState({activeCityID:t.cityKey,activeRightPanel:"overview",activeBeanID:t.key})}}))}},{key:"main",value:function(){switch(this.state.activeMain){case"network":return this.renderNetwork();default:return this.renderGeo()}}},{key:"render",value:function(){var e=this,t=n[this.state.world.date.season];this.state.world.party.activeCampaigns.reduce((function(e,t){return e+t.seasonalCost}),0);return l.a.createElement("div",{className:"canvas"},l.a.createElement("div",{className:"world"},this.main()),l.a.createElement("div",{className:"overlay"},l.a.createElement(W,{show:"party_creation"==this.state.activeModal,onClick:function(){return e.setState({activeModal:null})},hideCloseButton:!0},l.a.createElement(ie,{cities:this.state.world.cities,onFound:this.foundParty})),l.a.createElement(W,{show:"party"==this.state.activeModal,onClick:function(){return e.setState({activeModal:null})}},l.a.createElement(re,{world:this.state.world,setPolicy:this.setPolicy})),l.a.createElement(W,{show:"polisci"==this.state.activeModal,onClick:function(){return e.setState({activeModal:null})},hideCloseButton:!0},l.a.createElement("div",{className:"col-2"},l.a.createElement("h2",null,"Political Science"),l.a.createElement("div",null))),l.a.createElement(W,{show:"policy"==this.state.activeModal,onClick:function(){return e.setState({activeModal:null})}},l.a.createElement("div",{className:"col-2"},l.a.createElement("h2",null,"Government"),l.a.createElement("div",null)),l.a.createElement("div",{className:"pad-4p"},l.a.createElement("h3",null,"Policy"),l.a.createElement("div",{className:"horizontal"},l.a.createElement("div",{className:"vertical"},l.a.createElement("strong",null,"Welfare"),l.a.createElement("div",null,"Nutrition: ",this.state.world.law.policyTree.wel_food.name),l.a.createElement("div",null,"Housing: ",this.state.world.law.policyTree.wel_house.name),l.a.createElement("div",null,"Healthcare: ",this.state.world.law.policyTree.wel_health.name)),l.a.createElement("div",{className:"vertical"},l.a.createElement("strong",null,"Taxation"),l.a.createElement("div",null,this.state.world.law.policyTree.tax_basic.name),l.a.createElement("div",null,this.state.world.law.policyTree.tax_second.name)),l.a.createElement("div",{className:"vertical"},l.a.createElement("strong",null,"Economics"),l.a.createElement("div",null,"External: ",this.state.world.law.policyTree.econ_ex.name),l.a.createElement("div",null,"Labor: ",this.state.world.law.policyTree.econ_labor.name),l.a.createElement("div",null,"Subsidies: ",this.state.world.law.policyTree.econ_sub.name)),l.a.createElement("div",{className:"vertical"},l.a.createElement("strong",null,"Culture"),l.a.createElement("div",null,"Religion: ",this.state.world.law.policyTree.cul_rel.name),"20"==this.state.world.law.policyTree.cul_rel.key?l.a.createElement("div",null,"Theocracy: ",this.state.world.law.policyTree.cul_theo.name):null,l.a.createElement("div",null,"Education: ",this.state.world.law.policyTree.cul_ed.name)),l.a.createElement("div",{className:"vertical"},l.a.createElement("strong",null,"Law"),l.a.createElement("div",null,"Voting: ",this.state.world.law.policyTree.law_vote.name),l.a.createElement("div",null,"Corruption: ",this.state.world.law.policyTree.law_bribe.name),l.a.createElement("div",null,"Immigration: ",this.state.world.law.policyTree.law_imm.name))))),l.a.createElement(W,{show:"campaign"==this.state.activeModal,onClick:function(){return e.setState({activeModal:null})}},l.a.createElement("div",{className:"pad-4p"},l.a.createElement("div",{className:"subheader"},l.a.createElement("h3",null,"Propaganda"),l.a.createElement("button",{type:"button",className:"callout",onClick:function(){}},"\ud83c\udf99\ufe0f Buy Propaganda")),l.a.createElement("span",null,"Propaganda changes beans' feelings on a wide variety of topics."),l.a.createElement("div",{className:"card-parent"},l.a.createElement("button",{type:"button",className:"card button"},l.a.createElement("span",{className:"h"},"\ud83d\udcfa Broadcast Campaign"),l.a.createElement("small",null,"Approval+ Cash-"),l.a.createElement("span",{className:"p"},"Small chance to increase Approval among all beans")),l.a.createElement("button",{type:"button",className:"card button"},l.a.createElement("span",{className:"h"},"\ud83d\udc4b Canvassing"),l.a.createElement("small",null,"Approval+ Labor-"),l.a.createElement("span",{className:"p"},"Chance to increase Approval on a few random beans")),l.a.createElement("button",{type:"button",className:"card button"},l.a.createElement("span",{className:"h"},"\ud83d\uddde\ufe0f Print Campaign"),l.a.createElement("small",null,"Approval+ Cash-"),l.a.createElement("span",{className:"p"},"Chance to increase Approval on wealthy beans"))),l.a.createElement("div",{className:"subheader"},l.a.createElement("h3",null,"Appearances"),l.a.createElement("button",{type:"button",className:"callout",onClick:function(){}},"\ud83d\udcac Schedule Appearance")),l.a.createElement("span",null,"Appearances have limited reach, but have powerful effects."),l.a.createElement("div",{className:"card-parent"},l.a.createElement("button",{type:"button",className:"card button"},l.a.createElement("span",{className:"h"},"\ud83e\udd14 Debating"),l.a.createElement("small",null,"Labor-"),l.a.createElement("span",{className:"p"},"Chance to gain or lose Influence")),l.a.createElement("button",{type:"button",className:"card button"},l.a.createElement("span",{className:"h"},"\ud83d\udcf8 Photo Op"),l.a.createElement("small",null,"Labor-"),l.a.createElement("span",{className:"p"},"Increases Approval within one Social Group")),l.a.createElement("button",{type:"button",className:"card button"},l.a.createElement("span",{className:"h"},"\ud83c\udfa4 Speechmaking"),l.a.createElement("small",null,"Labor-"),l.a.createElement("span",{className:"p"},"Increases chance of Donations in a single City")),l.a.createElement("button",{type:"button",className:"card button"},l.a.createElement("span",{className:"h"},"\ud83d\ude4b Town Hall"),l.a.createElement("small",null,"Labor-"),l.a.createElement("span",{className:"p"},"Suppresses negative Approval in a single city"))))),l.a.createElement(W,{show:"economy"==this.state.activeModal,onClick:function(){return e.setState({activeModal:null})}},"economy"==this.state.activeModal?l.a.createElement(Z,{world:this.state.world}):""),l.a.createElement("div",{className:"left"},l.a.createElement("div",{className:"top"},l.a.createElement("span",null,"\xa0 Year ",this.state.world.date.year,", \xa0",t),"\xa0 \xa0 \xa0 \xa0",l.a.createElement("span",null,"Budget"),l.a.createElement("div",{className:"pull-r horizontal",style:{marginRight:"2em"}},l.a.createElement("button",{type:"button",onClick:function(){return e.setState({activeMain:"network"})}},"\ud83c\udf10"),l.a.createElement("button",{type:"button",onClick:function(){return e.setState({activeMain:"geo"})}},"\ud83c\udf0e"),l.a.createElement("span",null,"election in ",this.state.world.electionIn," seasons \xa0",l.a.createElement("button",{type:"button",className:"important",onClick:function(){return e.endTurn()}},"End Turn")))),l.a.createElement("div",{className:"bottom"},l.a.createElement(se,{changeEvent:this.state.world.bus.physicalCapital,icon:"\ud83d\udcb0"},l.a.createElement("b",null,"\ud83d\udcb0 Cash")," ",this.state.world.party.materialCapital.toFixed(0)),l.a.createElement(se,{changeEvent:this.state.world.bus.politicalCapital,icon:"\ud83e\udd1d"},l.a.createElement("b",null,"\ud83e\udd1d Influence")," ",this.state.world.party.politicalCapital),l.a.createElement(se,{changeEvent:this.state.world.bus.labor,icon:"\ud83e\udd1d"},l.a.createElement("b",null,"\ud83d\udcaa Labor")," ",this.state.world.party.labor),l.a.createElement("span",null,l.a.createElement("button",{type:"button",className:"callout",onClick:function(){return e.setState({activeModal:"economy"})}},"State of the Nation"),l.a.createElement("button",{type:"button",className:"callout",onClick:function(){return e.setState({activeModal:"party"})}},"Party"),l.a.createElement("button",{type:"button",onClick:function(){return e.setState({activeModal:"polisci"})}},"PoliSci"),l.a.createElement("button",{type:"button",onClick:function(){return e.setState({activeModal:"campaign"})}},"Campaigns"),l.a.createElement("button",{type:"button",onClick:function(){return e.setState({activeModal:"policy"})}},"Law")))),l.a.createElement("div",{className:"right"},l.a.createElement("div",{className:"full-width-tabs"},l.a.createElement("button",{onClick:function(){return e.setState({activeRightPanel:"overview"})}},"\ud83d\udcc8 Overview"),l.a.createElement("button",{onClick:function(){return e.setState({activeRightPanel:"events"})}},"\ud83d\udce3 Events"),l.a.createElement("button",{onClick:function(){return e.setState({activeRightPanel:"goals"})}},"\ud83c\udfc6 Goals")),this.getPanel())))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.ca9177eb.chunk.js.map